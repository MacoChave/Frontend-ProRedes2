(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},57:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(28),r=c.n(s),l=(c(36),c(16)),o=(c(37),c(0)),i=function(){return Object(o.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(o.jsxs)("div",{className:"container-fluid",children:[Object(o.jsx)("a",{href:"/",className:"navbar-brand flex-grow-1",children:"Redes 2 - Proyecto 1"}),Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-target":"#navbar","data-bs-toggle":"collapse",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsx)("div",{className:"collapse navbar-collapse",id:"navbar",children:Object(o.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)("a",{href:"/reports",className:"nav-link",children:"Reportes"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)("a",{href:"/assistance",className:"nav-link",children:"Asistencia"})})]})}),Object(o.jsx)("span",{className:"navbar-text",children:"Grupo 4"})]})})},j=c(3),d=c(2),b=c(9),m=c.n(b),O="http://".concat("api.apir2g4.tk").concat(""),h="".concat(O,"/reportes"),u="".concat(O,"/asistencia"),x=function(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(d.a)(s,2),l=r[0],i=r[1],j=Object(a.useState)(""),b=Object(d.a)(j,2),O=b[0],h=b[1],x=Object(a.useState)(""),p=Object(d.a)(x,2),f=p[0],v=p[1],N=Object(a.useState)(""),g=Object(d.a)(N,2),y=g[0],C=g[1];return Object(o.jsx)("div",{className:"card card--glass mt-3",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h5",{className:"card-title",children:"Reportar asistencia"}),Object(o.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),(t={carnet:c,nombre_alumno:l,nombre_evento:O,id_evento:f,captura:y},m.a.post("".concat(u),t,{headers:{"Content-Type":"application/json"}})).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))},children:[Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"number",className:"form-control",id:"carnet",placeholder:"Carnet",onChange:function(e){return n(parseInt(e.target.value))},required:!0}),Object(o.jsx)("label",{className:"form-label",htmlFor:"carnet",children:"Carnet"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"nombre",placeholder:"Nombre del estudiante",onChange:function(e){i(e.target.value)},required:!0}),Object(o.jsx)("label",{className:"form-label",htmlFor:"nombre",children:"Nombre del estudiante"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"evento",placeholder:"Nombre del evento",onChange:function(e){h(e.target.value)},required:!0}),Object(o.jsx)("label",{className:"form-label",htmlFor:"evento",children:"Nombre del evento"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"idEvento",placeholder:"Id del evento",onChange:function(e){v(e.target.value)},required:!0}),Object(o.jsx)("label",{className:"form-label",htmlFor:"idEvento",children:"Id del evento"})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"imagen",className:"form-label",children:"Seleccionar imagen"}),Object(o.jsx)("input",{type:"file",className:"form-control",id:"imagen",onChange:function(e){var t=e.target.files;if(t){var c=new FileReader;c.readAsDataURL(t[0]),c.onload=function(){var e=c.result;if(e){var t="".concat(e);C(t)}},c.onerror=function(e){console.error("Error: ",e)}}},required:!0})]}),Object(o.jsx)("div",{className:"d-grid gap-2",children:Object(o.jsx)("button",{className:"btn btn-primary mb-3",type:"submit",children:"Registrar"})})]})]})})},p=function(e){var t=Object(a.useState)(e),c=Object(d.a)(t,2),n=c[0],s=c[1];return{isOpenModal:n,handleOpenModal:function(){s(!0)},handleCloseModal:function(){s(!1)}}},f=(c(57),function(e){var t=e.isOpen,c=e.closeModal,a=e.title,n=e.children;return Object(o.jsx)("div",{className:"modal ".concat(t&&"modal-open"),onClick:c,children:Object(o.jsx)("div",{className:"modal-dialog",onClick:function(e){e.stopPropagation()},children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("div",{className:"modal-title",children:Object(o.jsxs)("h5",{children:[" ",a," "]})}),Object(o.jsx)("button",{className:"btn-close",onClick:c})]}),Object(o.jsxs)("div",{className:"modal-body",children:[" ",n," "]}),Object(o.jsx)("div",{className:"modal-footer",children:Object(o.jsx)("button",{className:"btn btn-primary",onClick:c,children:"Aceptar"})})]})})})}),v=function(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(d.a)(s,2),l=r[0],i=r[1],b=Object(a.useState)(""),m=Object(d.a)(b,2),O=m[0],h=m[1],u=Object(a.useState)(Object(o.jsx)(o.Fragment,{})),x=Object(d.a)(u,2),v=x[0],N=x[1],g=p(!1),y=g.isOpenModal,C=g.handleOpenModal,S=g.handleCloseModal,F=Object(j.f)();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"card card--glass mt-3",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"card-title",children:["Buscar asistencias",Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),0!==c||""!==l?F.push({pathname:"/assistance/evento",search:"?carnet=".concat(c,"&evento=").concat(l)}):(h("Error al filtrar evento"),N(Object(o.jsx)("p",{children:"No se defini\xf3 par\xe1metro de b\xfasqueda"})),C())},children:[Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"number",className:"form-control",id:"carnet",placeholder:"Buscar por carnet",onChange:function(e){return n(parseInt(e.target.value))}}),Object(o.jsx)("label",{className:"form-label",children:" Buscar por carnet"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"evento",placeholder:"Buscar por id del evento",onChange:function(e){return i(e.target.value)}}),Object(o.jsx)("label",{className:"form-label",children:"Buscar por id del evento"})]}),Object(o.jsx)("div",{className:"d-grid gap-2",children:Object(o.jsx)("button",{className:"btn btn-primary mb-3",type:"submit",children:"Buscar"})})]})]})})}),y&&Object(o.jsxs)(f,{isOpen:y,closeModal:S,title:O,children:[" ",v," "]})]})},N=function(){return Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsx)(x,{})}),Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsx)(v,{})})]})})},g=function(e){return Object(o.jsxs)("table",{className:"table card--glass table-hover mt-3",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{scope:"col",children:"Id evento"}),Object(o.jsx)("th",{scope:"col",children:"Evento"}),Object(o.jsx)("th",{scope:"col",children:"Carnet"}),Object(o.jsx)("th",{scope:"col",children:"Nombre"}),Object(o.jsx)("th",{scope:"col",children:"Servidor"}),Object(o.jsx)("th",{scope:"col",children:"Captura"})]})}),Object(o.jsxs)("tbody",{children:[" ",e.children," "]})]})},y=function(e){var t=p(!1),c=t.isOpenModal,n=t.handleOpenModal,s=t.handleCloseModal,r=Object(a.useState)(""),l=Object(d.a)(r,2),i=l[0],j=l[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("tr",{children:[Object(o.jsxs)("td",{children:[" ",e.assistance.id_evento," "]}),Object(o.jsxs)("td",{children:[" ",e.assistance.nombre_evento," "]}),Object(o.jsxs)("td",{children:[" ",e.assistance.carnet," "]}),Object(o.jsxs)("td",{children:[" ",e.assistance.nombre_alumno," "]}),Object(o.jsxs)("td",{children:[" ",e.assistance.server," "]}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(t){t.preventDefault(),j(e.assistance.captura),n()},children:"Ver"})})]}),c&&Object(o.jsx)(f,{isOpen:c,closeModal:s,title:"Captura",children:Object(o.jsx)("img",{src:i,alt:"Imagen"})})]})},C=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(d.a)(s,2),l=r[0],i=r[1],b=Object(a.useState)(""),O=Object(d.a)(b,2),h=O[0],x=O[1],p=Object(a.useState)(Object(o.jsx)(o.Fragment,{})),f=Object(d.a)(p,2),v=f[0],N=f[1],C=Object(j.g)(),S=new URLSearchParams(C.search),F=S.get("carnet")||"0",w=S.get("evento")||"";return Object(a.useEffect)((function(){var e;"0"!==F?function(e){return m.a.get("".concat(u,"/alumno"),{params:{carnet:e},headers:{"Content-Type":"application/json"}})}(parseInt(F)).then((function(e){n(e.data.reports),i(e.data.server),N(Object(o.jsxs)("div",{className:"container mt-4",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("h3",{children:"Eventos por carnet"})}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col mb-3",children:[Object(o.jsx)("label",{className:"form-label",children:"Carnet"}),Object(o.jsx)("input",{type:"text",className:"form-control",value:e.data.carnet,readOnly:!0})]}),Object(o.jsxs)("div",{className:"col mb-3",children:[Object(o.jsx)("label",{className:"form-label",children:"Nombre"}),Object(o.jsx)("input",{type:"text",className:"form-control",value:e.data.nombre,readOnly:!0})]})]})]}))})).catch((function(e){return x(e)})):(e=w,m.a.get("".concat(u,"/evento"),{params:{id:e},headers:{"Content-Type":"application/json"}})).then((function(e){n(e.data.reports),i(e.data.server),N(Object(o.jsxs)("div",{className:"container mt-4",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("h3",{children:"Eventos por id del evento"})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col mb-3",children:[Object(o.jsx)("label",{className:"form-label",children:"Evento"}),Object(o.jsx)("input",{type:"text",className:"form-control",value:e.data.evento,readOnly:!0})]})})]}))})).catch((function(e){return x(e)}))}),[]),Object(o.jsxs)("div",{className:"container-fluid",children:[Object(o.jsxs)("div",{className:"row justify-content-center",children:[v,Object(o.jsx)("div",{className:"col-md-10",children:Object(o.jsx)(g,{children:c.map((function(e){return Object(o.jsx)(y,{assistance:e},e._id)}))})})]}),Object(o.jsx)("div",{className:"row justify-content-center",children:Object(o.jsxs)("div",{className:"col-md-10",children:[!h&&Object(o.jsx)("div",{className:"alert alert-success",children:l}),h&&Object(o.jsx)("div",{className:"alert alert-danger",children:h})]})})]})},S=c(18),F=c.n(S),w=c(31),M=function(e){return m.a.post("".concat(h,"/reporte?id=").concat(e),{headers:{"Content-Type":"application/json"}})},I=function(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(d.a)(s,2),l=r[0],i=r[1],j=Object(a.useState)(""),b=Object(d.a)(j,2),O=b[0],u=b[1],x=Object(a.useState)(""),p=Object(d.a)(x,2),f=p[0],v=p[1];return Object(o.jsx)("div",{className:"card card--glass mt-3",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h5",{className:"card-title",children:"Ingreso de reportes de practicantes"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){return m.a.post("".concat(h),e,{headers:{"Content-Type":"application/json"}})}({carnet:c,nombre:l,curso:O,reporte:f}).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))},children:[Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"number",className:"form-control",id:"carnet",name:"carnet",placeholder:"Carnet",onChange:function(e){return n(parseInt(e.target.value))},required:!0}),Object(o.jsx)("label",{className:"form-label",htmlFor:"carnet",children:"Carnet"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"nombre",name:"nombre",placeholder:"Nombre",onChange:function(e){return i(e.target.value)},required:!0}),Object(o.jsx)("label",{className:"form-label",htmlFor:"nombre",children:"Nombre"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"asignatura",name:"asignatura",placeholder:"Curso / Proyecto",onChange:function(e){return u(e.target.value)},required:!0}),Object(o.jsx)("label",{className:"form-label",htmlFor:"asignatura",children:"Curso / Proyecto"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("textarea",{className:"form-control",id:"descripcion",name:"descripcion",onChange:function(e){return v(e.target.value)}}),Object(o.jsx)("label",{className:"form-label",htmlFor:"descripcion",children:"Cuerpo del mensaje"})]}),Object(o.jsx)("div",{className:"d-grid gap-2",children:Object(o.jsx)("button",{className:"btn btn-primary mb3",type:"submit",children:"Ingresar"})})]})]})})},k=function(e){var t=e.handleItem;return Object(o.jsxs)("tr",{children:[Object(o.jsxs)("td",{children:[" ",e.reporte.carnet," "]}),Object(o.jsxs)("td",{children:[" ",e.reporte.nombre," "]}),Object(o.jsxs)("td",{children:[" ",e.reporte.curso," "]}),Object(o.jsxs)("td",{children:[" ",function(e){var t=e.getMonth()+1,c=e.getDate();return[(c>9?"":"0")+c,"/",(t>9?"":"0")+t,"/",e.getFullYear()].join("")}(new Date(e.reporte.fecha))," "]}),Object(o.jsxs)("td",{children:[" ",e.reporte.server," "]}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){return t(e.reporte._id)},children:"Ver"})})]})},_=function(e){return Object(o.jsxs)("table",{className:"table card--glass table-hover mt-3",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{scope:"col",children:"Carnet"}),Object(o.jsx)("th",{scope:"col",children:"Nombre"}),Object(o.jsx)("th",{scope:"col",children:"Proyecto"}),Object(o.jsx)("th",{scope:"col",children:"Fecha"}),Object(o.jsx)("th",{scope:"col",children:"Servidor"})]})}),Object(o.jsxs)("tbody",{children:[" ",e.children," "]})]})},D=function(){var e={_id:"",__v:0,carnet:"",nombre:"",curso:"",fecha:new Date,reporte:"",server:""},t=Object(a.useState)(""),c=Object(d.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)([]),l=Object(d.a)(r,2),i=l[0],j=l[1],b=Object(a.useState)(""),O=Object(d.a)(b,2),u=O[0],x=O[1],v=Object(a.useState)(e),N=Object(d.a)(v,2),g=N[0],y=N[1],C=Object(a.useState)(""),S=Object(d.a)(C,2),D=S[0],E=S[1],q=p(!1),R=q.isOpenModal,B=q.handleOpenModal,P=q.handleCloseModal;Object(a.useEffect)((function(){m.a.get("".concat(h),{headers:{"Content-Type":"application/json"}}).then((function(e){j(e.data.reports),s(e.data.server)})).catch((function(e){return x(e)}))}),[]);var T=function(){var e=Object(w.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(t).then((function(e){y(e.data.reports[0]),E(e.data.server),B(),console.info({reporte:g,server:D})})).catch((function(e){return console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"container-fluid",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-4",children:Object(o.jsx)(I,{})}),Object(o.jsx)("div",{className:"col-md-8",children:Object(o.jsx)(_,{children:i.map((function(e){return Object(o.jsx)(k,{reporte:e,handleItem:T},e._id)}))})})]}),Object(o.jsx)("div",{className:"row justify-content-end",children:Object(o.jsxs)("div",{className:"col-md-8",children:[!u&&Object(o.jsxs)("div",{className:"alert alert-success",children:[" ",n," "]}),u&&Object(o.jsxs)("div",{className:"alert alert-danger",children:[" ",u," "]})]})}),R&&Object(o.jsxs)(f,{isOpen:R,closeModal:P,title:"Resumen de reporte",children:[Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",value:g.carnet,readOnly:!0}),Object(o.jsx)("label",{children:"Carnet"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",value:g.nombre,readOnly:!0}),Object(o.jsx)("label",{children:"Nombre"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",value:g.curso,readOnly:!0}),Object(o.jsx)("label",{children:"Curso"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",value:g.server,readOnly:!0}),Object(o.jsx)("label",{children:"Server"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",value:function(e){var t=e.getMonth()+1,c=e.getDate();return[(c>9?"":"0")+c,"/",(t>9?"":"0")+t,"/",e.getFullYear()].join("")}(new Date(g.fecha?g.fecha:"")),readOnly:!0}),Object(o.jsx)("label",{children:"Fecha"})]}),Object(o.jsxs)("div",{className:"form-floating mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",value:g.reporte,readOnly:!0}),Object(o.jsx)("label",{children:"Reporte"})]})]})]})},E=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(j.c,{children:[Object(o.jsx)(j.a,{exact:!0,path:"/assistance",component:N}),Object(o.jsx)(j.a,{exact:!0,path:"/assistance/evento",component:C}),Object(o.jsx)(j.a,{exact:!0,path:"/reports",component:D}),Object(o.jsx)(j.a,{exact:!0,path:"/",component:D})]})})};var q=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(l.a,{children:[Object(o.jsx)(i,{}),Object(o.jsx)(E,{})]})})},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,65)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(q,{})}),document.getElementById("root")),R()}},[[64,1,2]]]);
//# sourceMappingURL=main.e0152857.chunk.js.map